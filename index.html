<body>
    <div id='container'>
        <h2>Rock Paper Scissors</h2>
        <p>First one to 5 wins!</p>
        <p>select one:</p>
        <div id='btn-div'>
            <button id='rock' value='rock'>Rock</button>
            <button id='paper' value='paper'>Paper</button>
            <button id='scissors' value='scissors'>Scissors</button>
        </div>
        <div id='score'>

        </div>

    </div>




<script>
    //create event listener/ game trigger
    const buttons = document.querySelectorAll('button');
    buttons.forEach(button => button.addEventListener('click', playGame));
    
    //create scores
   let computerScore = 0;
   let playerScore = 0;
   let tie = 0;

   //create score board
    const scoreBoard = document.createElement('h3');
    scoreBoard.classList.add('result');
    scoreBoard.textContent="Computer:" + computerScore + " " + "Player:" + playerScore;
    score.appendChild(scoreBoard);


    function playGame(){
        //define computers choices
        function computerPlay() {
            let choice = ['rock','paper','scissors'];
            let pickChoice = choice[Math.floor(Math.random() * choice.length)];
            return pickChoice;
        };
        
        /**function playerPlay() {
            let choice = ['rock','paper','scissors'];
            let pickChoice = choice[Math.floor(Math.random() * choice.length)];
            return pickChoice;
        };**/

        //game results
        let compWin = "computer wins";
        let playerWin = "player wins";
        let draw = "tie";
        let pWinGame = "player wins the game";
        let cWinGame = "computer wins the game";

        //rules of the game or round
        function playRound(playerSelection, computerSelection) {
            if (playerSelection === computerSelection) {
                return draw;
            }
            else if (playerSelection === 'rock' && computerSelection === 'paper') {
                return compWin;
            }
            else if (playerSelection === 'paper' && computerSelection === 'scissors') {
                return compWin;
            }    
            else if (playerSelection === 'scissors' && computerSelection === 'rock') {
                return compWin;
            }        
            else {
                return playerWin;
            } 
        }

            

        //let i;
        
        //for (i = 0; i < 5; i++) {
            let playerSelection = this.value;
            const computerSelection = computerPlay();
            let roundResult = playRound(playerSelection, computerSelection);
            console.log(roundResult);
            gameScore(roundResult);
            console.log("Your score is " + playerScore);
            console.log("The computer's score is " + computerScore);
        //}
        
        function gameScore(result) {
        

            if (result === playerWin) {
                playerScore++;
            } else if (result === draw) {
                tie++;
            } else {
                computerScore++;
            }


            if (playerScore === 5) {
                alert(pWinGame);
                playerScore = 0;
                computerScore = 0;
                scoreBoard.textContent="Computer:" + computerScore + " " + "Player:" + playerScore;
            }
            else if (computerScore === 5) {
                alert(cWinGame);
                playerScore = 0;
                computerScore = 0;
                scoreBoard.textContent="Computer:" + computerScore + " " + "Player:" + playerScore;
            } else {
                score.removeChild(scoreBoard);
                scoreBoard.textContent="Computer:" + computerScore + " " + "Player:" + playerScore;
                score.appendChild(scoreBoard);
            }
        }
    };


    //console.log(playRound(playerSelection, computerSelection));

//game();
//console.log(computerScore);

//console.log(playerPlay());

</script>
</body>
